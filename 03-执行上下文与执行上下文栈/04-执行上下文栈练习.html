<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>前端小记-执行上下文栈练习</title>
  </head>
  <body>
    <!--
        1. 依次输出什么?
        gb: undefined
        fb: 1
        fb: 2
        fb: 3
        fe: 3
        fe: 2
        fe: 1
        ge: 1
        2. 整个过程中产生了几个执行上下文?  5个  f(4) ==> f(3) ==> f(2) ==> f(1) ==> window
    -->
    <script type="text/javascript">
      // 执行上下文栈中的顺序从栈顶到栈底(元素从栈顶依次出栈。插入和删除都是在栈顶操作的)依次是 f(4) ==> f(3) ==> f(2) ==> f(1) ==> window ,
      // 出栈顺序则是后进先出，即f(4) ==> f(3) ==> f(2) ==> f(1) 依次出栈，依次执行相应的函数，最后留下全局上下文对象window，所以输出顺序是上面所写的
      console.log("gb: " + i);
      var i = 1;
      foo(1);
      function foo(i) {
        if (i == 4) {
          return;
        }
        console.log("fb:" + i);
        foo(i + 1); //递归调用: 在函数内部调用自己
        console.log("fe:" + i);
      }
      console.log("ge: " + i);
    </script>
  </body>
</html>
